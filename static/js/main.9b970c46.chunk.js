(this["webpackJsonpgithub-search-v2"]=this["webpackJsonpgithub-search-v2"]||[]).push([[0],{28:function(e,t,c){},29:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);c(23);var n=c(0),s=c(20),r=c.n(s),i=(c(28),c(3)),a=(c(29),c(11)),l=c(22),j=c(1),u=function(e){var t=e.initialValue,c=e.onSubmitHandler,n=Object(l.a)(),s=n.register,r=n.handleSubmit,i=n.formState.errors;return Object(j.jsxs)("form",{onSubmit:r((function(e){c(e.userName.trim())})),className:"searchContainer",children:[Object(j.jsxs)("div",{className:"form-group row searchRow",children:[Object(j.jsx)("label",{className:"form-label fs-5",children:"Search user by username"}),Object(j.jsx)("input",Object(a.a)(Object(a.a)({},s("userName",{required:!0,minLength:1})),{},{defaultValue:t,className:"form-control me-3 searchBox"})),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary searchButton",children:"Find"})]}),i.userName&&Object(j.jsx)("p",{className:"errorMessage",children:"This field is required"})]})},o=c(2),b=c.n(o),d=c(4),O=c(9),f=c.n(O),h=c(21),m=c.n(h),x=(c(50),function(){return Object(j.jsx)("div",{className:"spinnerContainer",children:Object(j.jsxs)("div",{className:"ldsSpinner",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})}),v=function(e){var t=e.searchName,c=e.selectedUser,s=e.onUserSelectHandler,r=e.onErrorHandler,a=Object(n.useState)([]),l=Object(i.a)(a,2),u=l[0],o=l[1],O=Object(n.useState)(!1),h=Object(i.a)(O,2),v=h[0],g=h[1];return Object(n.useEffect)((function(){function e(e){return c.apply(this,arguments)}function c(){return(c=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&e(!0).then((function(){return f.a.get("https://api.github.com/search/users?q=".concat(t))})).then((function(e){o(e.data.items)})).catch((function(){return r()})).finally((function(){return e(!1)}))}),[t]),0===u.length?null:Object(j.jsxs)("div",{className:"card my-3 usersListContainer",children:[Object(j.jsx)("label",{className:"form-label fs-5",children:"Find users:"}),Object(j.jsxs)("ul",{className:"list-group",children:[v&&Object(j.jsx)(x,{}),!v&&u.map((function(e){return Object(j.jsx)("li",{className:m()("list-group-item","list-group-item-action","userItem",{selected:c===e}),onClick:function(){s(e)},children:e.login},e.id)}))]})]})},g=function(e){var t=e.timerSeconds,c=e.onTimerTick,s=e.timerKey,r=Object(n.useState)(t),a=Object(i.a)(r,2),l=a[0],u=a[1];return Object(n.useEffect)((function(){u(t)}),[t]),Object(n.useEffect)((function(){c(l)}),[l]),Object(n.useEffect)((function(){var e=setInterval((function(){u((function(e){return e-1}))}),1e3);return function(){clearInterval(e)}}),[s]),Object(j.jsxs)("div",{children:["Time to close details: ",l]})},p=function(e){var t=e.selectedUser,c=e.onErrorHandler,s=Object(n.useState)(null),r=Object(i.a)(s,2),a=r[0],l=r[1],u=Object(n.useState)(60),o=Object(i.a)(u,2),O=o[0],h=o[1],m=Object(n.useState)(!1),v=Object(i.a)(m,2),p=v[0],N=v[1];return Object(n.useEffect)((function(){function e(e){return n.apply(this,arguments)}function n(){return(n=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&e(!0).then((function(){return f.a.get("https://api.github.com/users/".concat(t.login))})).then((function(e){h(60),l(e.data)})).catch((function(){return c()})).finally((function(){return e(!1)}))}),[t]),Object(n.useEffect)((function(){O<1&&l(null)}),[O]),Object(j.jsxs)(j.Fragment,{children:[p&&Object(j.jsx)("div",{className:"loaderContainer",children:Object(j.jsx)(x,{})}),!p&&a&&Object(j.jsxs)("div",{className:"card userDetailsContainer",children:[Object(j.jsx)(g,{timerSeconds:O,onTimerTick:h,timerKey:null===t||void 0===t?void 0:t.id}),Object(j.jsx)("h2",{children:a.login}),Object(j.jsx)("h3",{children:a.name}),Object(j.jsx)("hr",{}),Object(j.jsx)("img",{src:a.avatar_url,height:"250px",width:"250px",alt:"avatar"}),a.html_url&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("hr",{}),Object(j.jsx)("a",{href:a.html_url,target:"_blank",rel:"noreferrer",className:"btn btn-dark",children:"Open Profile"})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"infoContainer",children:[a.blog&&Object(j.jsxs)("span",{children:[Object(j.jsx)("strong",{children:"Website: "}),Object(j.jsx)("a",{href:a.blog,target:"_blank",rel:"noreferrer",className:"card-link",children:a.blog})]}),Object(j.jsxs)("div",{className:"badge bg-success mt-1",children:["Followers: ",a.followers]}),Object(j.jsxs)("div",{className:"badge bg-success mt-1",children:["Following: ",a.following]}),Object(j.jsxs)("div",{className:"badge bg-success mt-1",children:["Public repos: ",a.public_repos]}),Object(j.jsxs)("div",{className:"badge bg-success mt-1",children:["Public gists: ",a.public_gists]})]})]})]})},N="vgratsilev",S=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(N),a=Object(i.a)(r,2),l=a[0],o=a[1],b=Object(n.useState)(!1),d=Object(i.a)(b,2),O=d[0],f=d[1];Object(n.useEffect)((function(){c&&(document.title=c.login)}),[c]),Object(n.useEffect)((function(){O&&setTimeout((function(){s(null),f(!1)}),3e3)}),[O]);var h=function(){return f(!0)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(u,{initialValue:N,onSubmitHandler:o}),Object(j.jsx)("button",{type:"button",className:"btn btn-secondary resetButton",onClick:function(){return o(N)},children:"Reset"}),Object(j.jsx)(v,{searchName:l,selectedUser:c,onUserSelectHandler:s,onErrorHandler:h})]}),Object(j.jsx)("div",{children:Object(j.jsx)(p,{selectedUser:c,onErrorHandler:h})})]}),O&&Object(j.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Error fetching data"})]})};var y=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(S,{})})};r.a.render(Object(j.jsx)(y,{}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.9b970c46.chunk.js.map